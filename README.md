# Video Trimmer

**Video Trimmer** ‚Äî —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–±—Ä–µ–∑–∫–∏ –≤–∏–¥–µ–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–∏–¥–µ–æ, –≤—ã–±–∏—Ä–∞—Ç—å —Å–µ–≥–º–µ–Ω—Ç—ã –¥–ª—è —Ç—Ä–∏–º–∞, —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å—é –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ MP4 —Å –ø–æ–º–æ—â—å—é FFmpeg –ø—Ä—è–º–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ.

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ **React + TypeScript** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **MobX** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–ª–æ–∏:

1. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI**
   - `VideoTrimmer` ‚Äî –≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞.
   - `UploadZone` ‚Äî –∑–æ–Ω–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π drag & drop.
   - `VideoPlayer` ‚Äî –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è HTML5 `<video>` —Å —Å–æ–±—ã—Ç–∏—è–º–∏ `timeupdate` –∏ `loadedmetadata`.
   - `Controls` ‚Äî –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º, —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ —Å–±—Ä–æ—Å–æ–º —Ç—Ä–∏–º–∞.
   - `Timeline` ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∏–º–∞ —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏ –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

2. **–•—É–∫–∏**
   - `useVideoTimeline` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ drag & drop –º–∞—Ä–∫–µ—Ä–æ–≤ —Ç–∞–π–º–ª–∞–π–Ω–∞.
     - –ü–µ—Ä–µ—Å—á–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –∫—É—Ä—Å–æ—Ä–∞ –≤ –≤—Ä–µ–º—è —Ç—Ä–∏–º–∞.
     - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è `mousemove`, `mouseup`, `touchmove`, `touchend`, `touchcancel`.
     - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `trimStart` –∏ `trimEnd` –≤ store.
   - –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤–∏–¥–µ–æ —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏.

3. **MobX Store (`videoStore`)**
   - –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∏–¥–µ–æ: —Ñ–∞–π–ª, URL, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ç–µ–∫—É—â–∏–π —Ç–∞–π–º–∫–æ–¥, —Ç—Ä–∏–º-–¥–∏–∞–ø–∞–∑–æ–Ω, —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —ç–∫—Å–ø–æ—Ä—Ç.
   - –ú–µ—Ç–æ–¥—ã:
     - `uploadFile(file, url)` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–ª–µ–µ—Ä–∞.
     - `resetTrim()` ‚Äî —Å–±—Ä–æ—Å —Ç—Ä–∏–º-–¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏.
     - `resetUpload()` ‚Äî —Å–±—Ä–æ—Å –≤–∏–¥–µ–æ—Ñ–∞–π–ª–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç –∫ –∑–æ–Ω–µ –∑–∞–≥—Ä—É–∑–∫–∏.
   - –í—ã—á–∏—Å–ª—è–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ `trimDuration` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞.

4. **–°–µ—Ä–≤–∏—Å—ã**
   - `ffmpegService` ‚Äî –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ `@ffmpeg/ffmpeg` –¥–ª—è —Ç—Ä–∏–º–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤–∏–¥–µ–æ.
     - `load()` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FFmpeg.
     - `trimAndExport(file, start, end, speed)` ‚Äî –æ–±—Ä–µ–∑–∫–∞ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤–∏–¥–µ–æ.
   - `errorService` ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ `react-toastify`.

---

## üîß –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ `UploadZone`.
2. –í–∏–¥–µ–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ `VideoPlayer`. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `videoStore`.
3. `Timeline` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –º–∞—Ä–∫–µ—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ `trimStart`, `trimEnd` –∏ `currentTime`.
4. –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ `useVideoTimeline` –æ–±–Ω–æ–≤–ª—è–µ—Ç store.
5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º –∏ —Å–∫–æ—Ä–æ—Å—Ç—å—é —á–µ—Ä–µ–∑ `Controls`.
6. –≠–∫—Å–ø–æ—Ä—Ç –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ `ffmpegService` —Å —É—á–µ—Ç–æ–º —Ç–µ–∫—É—â–µ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏.

---

## üñ• –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
src/
‚îú‚îÄ components/
‚îÇ ‚îú‚îÄ VideoTrimmer/ # –ì–ª–∞–≤–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
‚îÇ ‚îú‚îÄ UploadZone/ # –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ
‚îÇ ‚îú‚îÄ VideoPlayer/ # –ü–ª–µ–µ—Ä
‚îÇ ‚îú‚îÄ Controls/ # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ
‚îÇ ‚îî‚îÄ Timeline/ # –¢–∞–π–º–ª–∞–π–Ω —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏
‚îú‚îÄ hooks/
‚îÇ ‚îî‚îÄ useVideoTimeline.ts # Drag & drop –º–∞—Ä–∫–µ—Ä–æ–≤
‚îú‚îÄ stores/
‚îÇ ‚îî‚îÄ videoStore.ts # MobX store
‚îú‚îÄ services/
‚îÇ ‚îú‚îÄ ffmpegService.ts # FFmpeg –æ–±–µ—Ä—Ç–∫–∞
‚îÇ ‚îî‚îÄ errorService.ts # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îú‚îÄ utils/
‚îÇ ‚îî‚îÄ formatTime.ts # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
‚îî‚îÄ App.tsx
```

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
git clone
cd VideoEditor
npm install
npm run dev
```